!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){var jDataView=require("jdataview");require("setimmediate");var Promise=require("promise-polyfill"),BCI2K={};BCI2K.DataView=function(){jDataView.apply(this,arguments)},BCI2K.DataView.prototype=Object.create(jDataView.prototype),BCI2K.DataView.prototype.getNullTermString=function(){for(var val="";this._offset<this.byteLength;){var v=this.getUint8();if(0==v)break;val+=String.fromCharCode(v)}return val},BCI2K.DataView.prototype.getLengthField=function(n){var len=0,extended=!1;switch(n){case 1:len=this.getUint8(),extended=255==len;break;case 2:len=this.getUint16(),extended=65535==len;break;case 4:len=this.getUint32(),extended=4294967295==len;break;default:console.error("unsupported")}return extended?parseInt(this.getNullTermString()):len},BCI2K.Connection=function(){this.onconnect=function(){},this.ondisconnect=function(){},this._socket=null,this._execid=0,this._exec={}},BCI2K.Connection.prototype={constructor:BCI2K.Connection,connect:function(address){var connection=this;return new Promise(function(resolve,reject){void 0===address&&(address=window.location.host),connection.address=address,connection._socket=new WebSocket("ws://"+connection.address),connection._socket.onerror=function(){reject("Error connecting to BCI2000 at "+connection.address)},connection._socket.onopen=function(event){connection.onconnect(event),resolve(event)},connection._socket.onclose=function(event){connection.ondisconnect(event)},connection._socket.onmessage=function(event){connection._handleMessageEvent(event)}})},_handleMessageEvent:function(event){var arr=event.data.split(" "),opcode=arr[0],id=arr[1],msg=arr.slice(2).join(" ");switch(opcode){case"S":this._exec[id].onstart&&this._exec[id].onstart(this._exec[id]);break;case"O":this._exec[id].output+=msg+" \n",this._exec[id].onoutput&&this._exec[id].onoutput(this._exec[id]);break;case"D":this._exec[id].exitcode=parseInt(msg),this._exec[id].ondone&&this._exec[id].ondone(this._exec[id]),delete this._exec[id]}},tap:function(location){var connection=this,locationParameter="WS"+location+"Server";return this.execute("Get Parameter "+locationParameter).then(function(location){if(location.indexOf("does not exist")>=0)return Promise.reject("Location parameter does not exist");if(""==location)return Promise.reject("Location parameter not set");var dataConnection=new BCI2K.DataConnection;return dataConnection.connect(connection.address+":"+location.split(":")[1]).then(function(){return dataConnection})})},connected:function(){return null!=this._socket&&this._socket.readyState==WebSocket.OPEN},execute:function(instruction,ondone,onstart,onoutput){var connection=this;return this.connected()?new Promise(function(resolve){var id=(++connection._execid).toString();connection._exec[id]={onstart:onstart,onoutput:onoutput,ondone:function(exec){ondone&&ondone(exec),resolve(exec.output)},output:"",exitcode:null};var msg="E "+id+" "+instruction;connection._socket.send(msg)}):Promise.reject("Cannot execute instruction: not connected to BCI2000")},getVersion:function(fn){this.execute("Version",function(exec){fn(exec.output.split(" ")[1])})},showWindow:function(){return this.execute("Show Window")},hideWindow:function(){return this.execute("Hide Window")},resetSystem:function(){return this.execute("Reset System")},setConfig:function(fn){return this.execute("Set Config",fn)},start:function(){return this.execute("Start")},stop:function(){return this.execute("Stop")},kill:function(){return this.execute("Exit")}},BCI2K.DataConnection=function(){this._socket=null,this.onconnect=function(){},this.onGenericSignal=function(){},this.onStateVector=function(){},this.onSignalProperties=function(){},this.onStateFormat=function(){},this.ondisconnect=function(){},this.signalProperties=null,this.stateFormat=null,this.stateVecOrder=null},BCI2K.DataConnection.prototype={constructor:BCI2K.DataConnection,connect:function(address){var connection=this;return new Promise(function(resolve,reject){connection._socket=new WebSocket("ws://"+address),connection._socket.onerror=function(){reject("Error connecting to data source at "+connection.address)},connection._socket.onopen=function(event){connection.onconnect(event),resolve(event)},connection._socket.onclose=function(event){connection.ondisconnect(event)},connection._socket.onmessage=function(event){connection._handleMessageEvent(event)}})},_handleMessageEvent:function(event){var connection=this,messageInterpreter=new FileReader;messageInterpreter.onload=function(e){connection._decodeMessage(e.target.result)},messageInterpreter.readAsArrayBuffer(event.data)},connected:function(){return null!=this._socket&&this._socket.readyState==WebSocket.OPEN},SignalType:{INT16:0,FLOAT24:1,FLOAT32:2,INT32:3},_decodeMessage:function(data){var dv=new BCI2K.DataView(data,0,data.byteLength,!0),descriptor=dv.getUint8();switch(descriptor){case 3:this._decodeStateFormat(dv);break;case 4:var supplement=dv.getUint8();switch(supplement){case 1:this._decodeGenericSignal(dv);break;case 3:this._decodeSignalProperties(dv);break;default:console.error("Unsupported Supplement: "+supplement.toString())}break;case 5:this._decodeStateVector(dv);break;default:console.error("Unsupported Descriptor: "+descriptor.toString())}},_decodePhysicalUnits:function(unitstr){var units={},unit=unitstr.split(" "),idx=0;return units.offset=Number(unit[idx++]),units.gain=Number(unit[idx++]),units.symbol=unit[idx++],units.vmin=Number(unit[idx++]),units.vmax=Number(unit[idx++]),units},_decodeSignalProperties:function(dv){var propstr=dv.getNullTermString();propstr=propstr.replace(/{/g," { "),propstr=propstr.replace(/}/g," } "),this.signalProperties={};for(var prop_tokens=propstr.split(" "),props=[],i=0;i<prop_tokens.length;i++)""!=$.trim(prop_tokens[i])&&props.push(prop_tokens[i]);var pidx=0;if(this.signalProperties.name=props[pidx++],this.signalProperties.channels=[],"{"==props[pidx]){for(;"}"!=props[++pidx];)this.signalProperties.channels.push(props[pidx]);pidx++}else for(var numChannels=parseInt(props[pidx++]),i=0;numChannels>i;i++)this.signalProperties.channels.push((i+1).toString());if(this.signalProperties.elements=[],"{"==props[pidx]){for(;"}"!=props[++pidx];)this.signalProperties.elements.push(props[pidx]);pidx++}else for(var numElements=parseInt(props[pidx++]),i=0;numElements>i;i++)this.signalProperties.elements.push((i+1).toString());this.signalProperties.numelements=this.signalProperties.elements.length,this.signalProperties.signaltype=props[pidx++],this.signalProperties.channelunit=this._decodePhysicalUnits(props.slice(pidx,pidx+=5).join(" ")),this.signalProperties.elementunit=this._decodePhysicalUnits(props.slice(pidx,pidx+=5).join(" ")),pidx++,this.signalProperties.valueunits=[];for(var i=0;i<this.signalProperties.channels.length;i++)this.signalProperties.valueunits.push(this._decodePhysicalUnits(props.slice(pidx,pidx+=5).join(" ")));pidx++,this.onSignalProperties(this.signalProperties)},_decodeStateFormat:function(dv){this.stateFormat={};for(var formatStr=dv.getNullTermString(),lines=formatStr.split("\n"),lineIdx=0;lineIdx<lines.length;lineIdx++)if(0!=$.trim(lines[lineIdx]).length){var stateline=lines[lineIdx].split(" "),name=stateline[0];this.stateFormat[name]={},this.stateFormat[name].bitWidth=parseInt(stateline[1]),this.stateFormat[name].defaultValue=parseInt(stateline[2]),this.stateFormat[name].byteLocation=parseInt(stateline[3]),this.stateFormat[name].bitLocation=parseInt(stateline[4])}var vecOrder=[];for(var state in this.stateFormat){var loc=8*this.stateFormat[state].byteLocation;loc+=this.stateFormat[state].bitLocation,vecOrder.push([state,loc])}vecOrder.sort(function(a,b){return a[1]<b[1]?-1:a[1]>b[1]?1:0}),this.stateVecOrder=[];for(var i=0;i<vecOrder.length;i++){var state=vecOrder[i][0];this.stateVecOrder.push([state,this.stateFormat[state].bitWidth])}this.onStateFormat(this.stateFormat)},_decodeGenericSignal:function(dv){for(var signalType=dv.getUint8(),nChannels=dv.getLengthField(2),nElements=dv.getLengthField(2),signal=[],ch=0;nChannels>ch;++ch){signal.push([]);for(var el=0;nElements>el;++el)switch(signalType){case this.SignalType.INT16:signal[ch].push(dv.getInt16());break;case this.SignalType.FLOAT32:signal[ch].push(dv.getFloat32());break;case this.SignalType.INT32:signal[ch].push(dv.getInt32());break;case this.SignalType.FLOAT24:signal[ch].push(0)}}this.onGenericSignal(signal)},_decodeStateVector:function(dv){if(null!=this.stateVecOrder){var stateVectorLength=parseInt(dv.getNullTermString()),numVectors=parseInt(dv.getNullTermString()),states=(dv.tell(),{});for(var state in this.stateFormat)states[state]=Array(numVectors).fill(this.stateFormat[state].defaultValue);for(var vecIdx=0;numVectors>vecIdx;vecIdx++){for(var vec=dv.getBytes(stateVectorLength,dv.tell(),!0,!1),bits=[],byteIdx=0;byteIdx<vec.length;byteIdx++)bits.push(0!=(1&vec[byteIdx])?1:0),bits.push(0!=(2&vec[byteIdx])?1:0),bits.push(0!=(4&vec[byteIdx])?1:0),bits.push(0!=(8&vec[byteIdx])?1:0),bits.push(0!=(16&vec[byteIdx])?1:0),bits.push(0!=(32&vec[byteIdx])?1:0),bits.push(0!=(64&vec[byteIdx])?1:0),bits.push(0!=(128&vec[byteIdx])?1:0);for(var stateIdx=0;stateIdx<this.stateVecOrder.length;stateIdx++){for(var fmt=this.stateFormat[this.stateVecOrder[stateIdx][0]],offset=8*fmt.byteLocation+fmt.bitLocation,val=0,mask=1,bIdx=0;bIdx<fmt.bitWidth;bIdx++)bits[offset+bIdx]&&(val=(val|mask)>>>0),mask=mask<<1>>>0;states[this.stateVecOrder[stateIdx][0]][vecIdx]=val}}this.onStateVector(states)}}},module.exports=BCI2K},{jdataview:7,"promise-polyfill":8,setimmediate:9}],2:[function(require,module,exports){(function(global){"use strict";function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length),that.__proto__=Buffer.prototype):(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?fromArrayBuffer(that,value,encodingOrOffset,length):"string"==typeof value?fromString(that,value,encodingOrOffset):fromObject(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(0>size)throw new RangeError('"size" argument must not be negative')}function alloc(that,size,fill,encoding){return assertSize(size),0>=size?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,0>size?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;size>i;++i)that[i]=0;return that}function fromString(that,string,encoding){if(("string"!=typeof encoding||""===encoding)&&(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,0>byteOffset||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array,that.__proto__=Buffer.prototype):that=fromArrayLike(that,array),that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return that=createBuffer(that,len),0===that.length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||isnan(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||0>start)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),0>=end)return"";if(end>>>=0,start>>>=0,start>=end)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:-2147483648>byteOffset&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),0>byteOffset&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(0>byteOffset){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val=255&val,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(encoding=String(encoding).toLowerCase(),"ucs2"===encoding||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;arrLength>i;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;valLength>j;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;length>i;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return base64.fromByteArray(0===start&&end===buf.length?buf:buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;end>i;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(end>=i+bytesPerSequence){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:128>firstByte&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128===(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128===(192&secondByte)&&128===(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(55296>tempCodePoint||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128===(192&secondByte)&&128===(192&thirdByte)&&128===(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&1114112>tempCodePoint&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(MAX_ARGUMENTS_LENGTH>=len)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;len>i;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;end>i;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||0>offset)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||min>value)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){0>value&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);j>i;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){0>value&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);j>i;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(0>offset)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;length>i;++i){if(codePoint=string.charCodeAt(i),codePoint>55295&&57344>codePoint){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(56320>codePoint){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,128>codePoint){if((units-=1)<0)break;bytes.push(codePoint)}else if(2048>codePoint){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(65536>codePoint){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(1114112>codePoint))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;length>i&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isnan(val){return val!==val}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);len>i;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return y>x?-1:x>y?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;len>i;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;len>i;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;len>i;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),0>start||end>target.length||0>thisStart||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;len>i;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return y>x?-1:x>y?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset=0|offset,isFinite(length)?(length=0|length,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(0>length||0>offset)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,0>start?(start+=len,0>start&&(start=0)):start>len&&(start=len),0>end?(end+=len,0>end&&(end=0)):end>len&&(end=len),start>end&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=this.subarray(start,end),newBuf.__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;sliceLen>i;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);

for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,byteLength=0|byteLength,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)0>value&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)0>value&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),0>value&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),0>value&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&start>end&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(0>targetStart)throw new RangeError("targetStart out of bounds");if(0>start||start>=this.length)throw new RangeError("sourceStart out of bounds");if(0>end)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&targetStart>start&&end>targetStart)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(1e3>len||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;len>i;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);256>code&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val=255&val);if(0>start||this.length<start||this.length<end)throw new RangeError("Out of range index");if(start>=end)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;end>i;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;end-start>i;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":3,ieee754:4,isarray:5}],3:[function(require,module,exports){"use strict";function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===b64[len-2]?2:"="===b64[len-1]?1:0}function byteLength(b64){return 3*b64.length/4-placeHoldersCount(b64)}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;placeHolders=placeHoldersCount(b64),arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;l>i;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;end>i;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes;len2>i;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;len>i;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],4:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?0/0:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],5:[function(require,module){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],6:[function(require,module){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],7:[function(require,module){(function(Buffer){!function(factory){var global=this;module.exports=factory(global)}(function(global){"use strict";function is(obj,Ctor){return"object"!=typeof obj||null===obj?!1:obj.constructor===Ctor||Object.prototype.toString.call(obj)==="[object "+Ctor.name+"]"}function arrayFrom(arrayLike,forceCopy){return!forceCopy&&is(arrayLike,Array)?arrayLike:Array.prototype.slice.call(arrayLike)}function defined(value,defaultValue){return void 0!==value?value:defaultValue}function jDataView(buffer,byteOffset,byteLength,littleEndian){if(jDataView.is(buffer)){var result=buffer.slice(byteOffset,byteOffset+byteLength);return result._littleEndian=defined(littleEndian,result._littleEndian),result}if(!jDataView.is(this))return new jDataView(buffer,byteOffset,byteLength,littleEndian);if(this.buffer=buffer=jDataView.wrapBuffer(buffer),this._isArrayBuffer=compatibility.ArrayBuffer&&is(buffer,ArrayBuffer),this._isPixelData=!1,this._isDataView=compatibility.DataView&&this._isArrayBuffer,this._isNodeBuffer=!0&&compatibility.NodeBuffer&&is(buffer,Buffer),!this._isNodeBuffer&&!this._isArrayBuffer&&!is(buffer,Array))throw new TypeError("jDataView buffer has an incompatible type");this._littleEndian=!!littleEndian;var bufferLength="byteLength"in buffer?buffer.byteLength:buffer.length;this.byteOffset=byteOffset=defined(byteOffset,0),this.byteLength=byteLength=defined(byteLength,bufferLength-byteOffset),this._offset=this._bitOffset=0,this._isDataView?this._view=new DataView(buffer,byteOffset,byteLength):this._checkBounds(byteOffset,byteLength,bufferLength),this._engineAction=this._isDataView?this._dataViewAction:this._isNodeBuffer?this._nodeBufferAction:this._isArrayBuffer?this._arrayBufferAction:this._arrayAction}function getCharCodes(string){if(compatibility.NodeBuffer)return new Buffer(string,"binary");for(var Type=compatibility.ArrayBuffer?Uint8Array:Array,codes=new Type(string.length),i=0,length=string.length;length>i;i++)codes[i]=255&string.charCodeAt(i);return codes}function pow2(n){return n>=0&&31>n?1<<n:pow2[n]||(pow2[n]=Math.pow(2,n))}function Uint64(lo,hi){this.lo=lo,this.hi=hi}function Int64(){Uint64.apply(this,arguments)}var compatibility={NodeBuffer:!0&&"Buffer"in global,DataView:"DataView"in global,ArrayBuffer:"ArrayBuffer"in global,PixelData:!1},TextEncoder=global.TextEncoder,TextDecoder=global.TextDecoder;compatibility.NodeBuffer&&!function(buffer){try{buffer.writeFloatLE(1/0,0)}catch(e){compatibility.NodeBuffer=!1}}(new Buffer(4));var dataTypes={Int8:1,Int16:2,Int32:4,Uint8:1,Uint16:2,Uint32:4,Float32:4,Float64:8};jDataView.wrapBuffer=function(buffer){switch(typeof buffer){case"number":if(compatibility.NodeBuffer)buffer=new Buffer(buffer),buffer.fill(0);else if(compatibility.ArrayBuffer)buffer=new Uint8Array(buffer).buffer;else{buffer=new Array(buffer);for(var i=0;i<buffer.length;i++)buffer[i]=0}return buffer;case"string":buffer=getCharCodes(buffer);default:return"length"in buffer&&!(compatibility.NodeBuffer&&is(buffer,Buffer)||compatibility.ArrayBuffer&&is(buffer,ArrayBuffer))&&(compatibility.NodeBuffer?buffer=new Buffer(buffer):compatibility.ArrayBuffer?is(buffer,ArrayBuffer)||(buffer=new Uint8Array(buffer).buffer,is(buffer,ArrayBuffer)||(buffer=new Uint8Array(arrayFrom(buffer,!0)).buffer)):buffer=arrayFrom(buffer)),buffer}},jDataView.is=function(view){return view&&view.jDataView},jDataView.from=function(){return new jDataView(arguments)},jDataView.Uint64=Uint64,Uint64.prototype={valueOf:function(){return this.lo+pow2(32)*this.hi},toString:function(){return Number.prototype.toString.apply(this.valueOf(),arguments)}},Uint64.fromNumber=function(number){var hi=Math.floor(number/pow2(32)),lo=number-hi*pow2(32);return new Uint64(lo,hi)},jDataView.Int64=Int64,Int64.prototype="create"in Object?Object.create(Uint64.prototype):new Uint64,Int64.prototype.valueOf=function(){return this.hi<pow2(31)?Uint64.prototype.valueOf.apply(this,arguments):-(pow2(32)-this.lo+pow2(32)*(pow2(32)-1-this.hi))},Int64.fromNumber=function(number){var lo,hi;if(number>=0){var unsigned=Uint64.fromNumber(number);lo=unsigned.lo,hi=unsigned.hi}else hi=Math.floor(number/pow2(32)),lo=number-hi*pow2(32),hi+=pow2(32);return new Int64(lo,hi)};var proto=jDataView.prototype={compatibility:compatibility,jDataView:!0,_checkBounds:function(byteOffset,byteLength,maxLength){if("number"!=typeof byteOffset)throw new TypeError("Offset is not a number.");if("number"!=typeof byteLength)throw new TypeError("Size is not a number.");if(0>byteLength)throw new RangeError("Length is negative.");if(0>byteOffset||byteOffset+byteLength>defined(maxLength,this.byteLength))throw new RangeError("Offsets are out of bounds.")},_action:function(type,isReadAction,byteOffset,littleEndian,value){return this._engineAction(type,isReadAction,defined(byteOffset,this._offset),defined(littleEndian,this._littleEndian),value)},_dataViewAction:function(type,isReadAction,byteOffset,littleEndian,value){return this._offset=byteOffset+dataTypes[type],isReadAction?this._view["get"+type](byteOffset,littleEndian):this._view["set"+type](byteOffset,value,littleEndian)},_arrayBufferAction:function(type,isReadAction,byteOffset,littleEndian,value){var typedArray,size=dataTypes[type],TypedArray=global[type+"Array"];if(littleEndian=defined(littleEndian,this._littleEndian),1===size||(this.byteOffset+byteOffset)%size===0&&littleEndian)return typedArray=new TypedArray(this.buffer,this.byteOffset+byteOffset,1),this._offset=byteOffset+size,isReadAction?typedArray[0]:typedArray[0]=value;var bytes=new Uint8Array(isReadAction?this.getBytes(size,byteOffset,littleEndian,!0):size);return typedArray=new TypedArray(bytes.buffer,0,1),isReadAction?typedArray[0]:(typedArray[0]=value,void this._setBytes(byteOffset,bytes,littleEndian))},_arrayAction:function(type,isReadAction,byteOffset,littleEndian,value){return isReadAction?this["_get"+type](byteOffset,littleEndian):this["_set"+type](byteOffset,value,littleEndian)},_getBytes:function(length,byteOffset,littleEndian){littleEndian=defined(littleEndian,this._littleEndian),byteOffset=defined(byteOffset,this._offset),length=defined(length,this.byteLength-byteOffset),this._checkBounds(byteOffset,length),byteOffset+=this.byteOffset,this._offset=byteOffset-this.byteOffset+length;var result=this._isArrayBuffer?new Uint8Array(this.buffer,byteOffset,length):(this.buffer.slice||Array.prototype.slice).call(this.buffer,byteOffset,byteOffset+length);return littleEndian||1>=length?result:arrayFrom(result).reverse()},getBytes:function(length,byteOffset,littleEndian,toArray){var result=this._getBytes(length,byteOffset,defined(littleEndian,!0));return toArray?arrayFrom(result):result},_setBytes:function(byteOffset,bytes,littleEndian){var length=bytes.length;if(0!==length){if(littleEndian=defined(littleEndian,this._littleEndian),byteOffset=defined(byteOffset,this._offset),this._checkBounds(byteOffset,length),!littleEndian&&length>1&&(bytes=arrayFrom(bytes,!0).reverse()),byteOffset+=this.byteOffset,this._isArrayBuffer)new Uint8Array(this.buffer,byteOffset,length).set(bytes);else if(this._isNodeBuffer)new Buffer(bytes).copy(this.buffer,byteOffset);else for(var i=0;length>i;i++)this.buffer[byteOffset+i]=bytes[i];this._offset=byteOffset-this.byteOffset+length}},setBytes:function(byteOffset,bytes,littleEndian){this._setBytes(byteOffset,bytes,defined(littleEndian,!0))},getString:function(byteLength,byteOffset,encoding){if(this._isNodeBuffer)return byteOffset=defined(byteOffset,this._offset),byteLength=defined(byteLength,this.byteLength-byteOffset),this._checkBounds(byteOffset,byteLength),this._offset=byteOffset+byteLength,this.buffer.toString(encoding||"binary",this.byteOffset+byteOffset,this.byteOffset+this._offset);var bytes=this._getBytes(byteLength,byteOffset,!0);if(encoding="utf8"===encoding?"utf-8":encoding||"binary",TextDecoder&&"binary"!==encoding)return new TextDecoder(encoding).decode(this._isArrayBuffer?bytes:new Uint8Array(bytes));var string="";byteLength=bytes.length;for(var i=0;byteLength>i;i++)string+=String.fromCharCode(bytes[i]);return"utf-8"===encoding&&(string=decodeURIComponent(escape(string))),string},setString:function(byteOffset,subString,encoding){if(this._isNodeBuffer)return byteOffset=defined(byteOffset,this._offset),this._checkBounds(byteOffset,subString.length),void(this._offset=byteOffset+this.buffer.write(subString,this.byteOffset+byteOffset,encoding||"binary"));encoding="utf8"===encoding?"utf-8":encoding||"binary";var bytes;TextEncoder&&"binary"!==encoding?bytes=new TextEncoder(encoding).encode(subString):("utf-8"===encoding&&(subString=unescape(encodeURIComponent(subString))),bytes=getCharCodes(subString)),this._setBytes(byteOffset,bytes,!0)},getChar:function(byteOffset){return this.getString(1,byteOffset)},setChar:function(byteOffset,character){this.setString(byteOffset,character)},tell:function(){return this._offset},seek:function(byteOffset){return this._checkBounds(byteOffset,0),this._offset=byteOffset},skip:function(byteLength){return this.seek(this._offset+byteLength)},slice:function(start,end,forceCopy){function normalizeOffset(offset,byteLength){return 0>offset?offset+byteLength:offset}return start=normalizeOffset(start,this.byteLength),end=normalizeOffset(defined(end,this.byteLength),this.byteLength),forceCopy?new jDataView(this.getBytes(end-start,start,!0,!0),void 0,void 0,this._littleEndian):new jDataView(this.buffer,this.byteOffset+start,end-start,this._littleEndian)},alignBy:function(byteCount){return this._bitOffset=0,1!==defined(byteCount,1)?this.skip(byteCount-(this._offset%byteCount||byteCount)):this._offset},_getFloat64:function(byteOffset,littleEndian){var b=this._getBytes(8,byteOffset,littleEndian),sign=1-2*(b[7]>>7),exponent=((b[7]<<1&255)<<3|b[6]>>4)-1023,mantissa=(15&b[6])*pow2(48)+b[5]*pow2(40)+b[4]*pow2(32)+b[3]*pow2(24)+b[2]*pow2(16)+b[1]*pow2(8)+b[0];return 1024===exponent?0!==mantissa?0/0:1/0*sign:-1023===exponent?sign*mantissa*pow2(-1074):sign*(1+mantissa*pow2(-52))*pow2(exponent)},_getFloat32:function(byteOffset,littleEndian){var b=this._getBytes(4,byteOffset,littleEndian),sign=1-2*(b[3]>>7),exponent=(b[3]<<1&255|b[2]>>7)-127,mantissa=(127&b[2])<<16|b[1]<<8|b[0];return 128===exponent?0!==mantissa?0/0:1/0*sign:-127===exponent?sign*mantissa*pow2(-149):sign*(1+mantissa*pow2(-23))*pow2(exponent)},_get64:function(Type,byteOffset,littleEndian){littleEndian=defined(littleEndian,this._littleEndian),byteOffset=defined(byteOffset,this._offset);for(var parts=littleEndian?[0,4]:[4,0],i=0;2>i;i++)parts[i]=this.getUint32(byteOffset+parts[i],littleEndian);return this._offset=byteOffset+8,new Type(parts[0],parts[1])},getInt64:function(byteOffset,littleEndian){return this._get64(Int64,byteOffset,littleEndian)},getUint64:function(byteOffset,littleEndian){return this._get64(Uint64,byteOffset,littleEndian)},_getInt32:function(byteOffset,littleEndian){var b=this._getBytes(4,byteOffset,littleEndian);return b[3]<<24|b[2]<<16|b[1]<<8|b[0]},_getUint32:function(byteOffset,littleEndian){return this._getInt32(byteOffset,littleEndian)>>>0},_getInt16:function(byteOffset,littleEndian){return this._getUint16(byteOffset,littleEndian)<<16>>16},_getUint16:function(byteOffset,littleEndian){var b=this._getBytes(2,byteOffset,littleEndian);return b[1]<<8|b[0]},_getInt8:function(byteOffset){return this._getUint8(byteOffset)<<24>>24},_getUint8:function(byteOffset){return this._getBytes(1,byteOffset)[0]},_getBitRangeData:function(bitLength,byteOffset){var startBit=(defined(byteOffset,this._offset)<<3)+this._bitOffset,endBit=startBit+bitLength,start=startBit>>>3,end=endBit+7>>>3,b=this._getBytes(end-start,start,!0),wideValue=0;(this._bitOffset=7&endBit)&&(this._bitOffset-=8);for(var i=0,length=b.length;length>i;i++)wideValue=wideValue<<8|b[i];return{start:start,bytes:b,wideValue:wideValue}},getSigned:function(bitLength,byteOffset){var shift=32-bitLength;return this.getUnsigned(bitLength,byteOffset)<<shift>>shift},getUnsigned:function(bitLength,byteOffset){var value=this._getBitRangeData(bitLength,byteOffset).wideValue>>>-this._bitOffset;return 32>bitLength?value&~(-1<<bitLength):value},_setBinaryFloat:function(byteOffset,value,mantSize,expSize,littleEndian){var exponent,mantissa,signBit=0>value?1:0,eMax=~(-1<<expSize-1),eMin=1-eMax;0>value&&(value=-value),0===value?(exponent=0,mantissa=0):isNaN(value)?(exponent=2*eMax+1,mantissa=1):1/0===value?(exponent=2*eMax+1,mantissa=0):(exponent=Math.floor(Math.log(value)/Math.LN2),exponent>=eMin&&eMax>=exponent?(mantissa=Math.floor((value*pow2(-exponent)-1)*pow2(mantSize)),exponent+=eMax):(mantissa=Math.floor(value/pow2(eMin-mantSize)),exponent=0));for(var b=[];mantSize>=8;)b.push(mantissa%256),mantissa=Math.floor(mantissa/256),mantSize-=8;for(exponent=exponent<<mantSize|mantissa,expSize+=mantSize;expSize>=8;)b.push(255&exponent),exponent>>>=8,expSize-=8;b.push(signBit<<expSize|exponent),this._setBytes(byteOffset,b,littleEndian)},_setFloat32:function(byteOffset,value,littleEndian){this._setBinaryFloat(byteOffset,value,23,8,littleEndian)},_setFloat64:function(byteOffset,value,littleEndian){this._setBinaryFloat(byteOffset,value,52,11,littleEndian)},_set64:function(Type,byteOffset,value,littleEndian){"object"!=typeof value&&(value=Type.fromNumber(value)),littleEndian=defined(littleEndian,this._littleEndian),byteOffset=defined(byteOffset,this._offset);var parts=littleEndian?{lo:0,hi:4}:{lo:4,hi:0};for(var partName in parts)this.setUint32(byteOffset+parts[partName],value[partName],littleEndian);this._offset=byteOffset+8},setInt64:function(byteOffset,value,littleEndian){this._set64(Int64,byteOffset,value,littleEndian)},setUint64:function(byteOffset,value,littleEndian){this._set64(Uint64,byteOffset,value,littleEndian)},_setUint32:function(byteOffset,value,littleEndian){this._setBytes(byteOffset,[255&value,value>>>8&255,value>>>16&255,value>>>24],littleEndian)},_setUint16:function(byteOffset,value,littleEndian){this._setBytes(byteOffset,[255&value,value>>>8&255],littleEndian)},_setUint8:function(byteOffset,value){this._setBytes(byteOffset,[255&value])},setUnsigned:function(byteOffset,value,bitLength){var data=this._getBitRangeData(bitLength,byteOffset),wideValue=data.wideValue,b=data.bytes;wideValue&=~(~(-1<<bitLength)<<-this._bitOffset),wideValue|=(32>bitLength?value&~(-1<<bitLength):value)<<-this._bitOffset;for(var i=b.length-1;i>=0;i--)b[i]=255&wideValue,wideValue>>>=8;this._setBytes(data.start,b,!0)}},nodeNaming={Int8:"Int8",Int16:"Int16",Int32:"Int32",Uint8:"UInt8",Uint16:"UInt16",Uint32:"UInt32",Float32:"Float",Float64:"Double"};proto._nodeBufferAction=function(type,isReadAction,byteOffset,littleEndian,value){this._offset=byteOffset+dataTypes[type];var nodeName=nodeNaming[type]+("Int8"===type||"Uint8"===type?"":littleEndian?"LE":"BE");return byteOffset+=this.byteOffset,isReadAction?this.buffer["read"+nodeName](byteOffset):this.buffer["write"+nodeName](value,byteOffset)};for(var type in dataTypes)!function(type){proto["get"+type]=function(byteOffset,littleEndian){return this._action(type,!0,byteOffset,littleEndian)},proto["set"+type]=function(byteOffset,value,littleEndian){this._action(type,!1,byteOffset,littleEndian,value)}}(type);proto._setInt32=proto._setUint32,proto._setInt16=proto._setUint16,proto._setInt8=proto._setUint8,proto.setSigned=proto.setUnsigned;for(var method in proto)"set"===method.slice(0,3)&&!function(type){proto["write"+type]=function(){Array.prototype.unshift.call(arguments,void 0),this["set"+type].apply(this,arguments)}}(method.slice(3));return jDataView})}).call(this,require("buffer").Buffer)},{buffer:2}],8:[function(require,module){!function(root){function noop(){}function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}function Promise(fn){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(fn,this)}function handle(self,deferred){for(;3===self._state;)self=self._value;return 0===self._state?void self._deferreds.push(deferred):(self._handled=!0,void Promise._immediateFn(function(){var cb=1===self._state?deferred.onFulfilled:deferred.onRejected;if(null===cb)return void(1===self._state?resolve:reject)(deferred.promise,self._value);var ret;try{ret=cb(self._value)}catch(e){return void reject(deferred.promise,e)}resolve(deferred.promise,ret)}))}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=newValue.then;if(newValue instanceof Promise)return self._state=3,self._value=newValue,void finale(self);if("function"==typeof then)return void doResolve(bind(then,newValue),self)}self._state=1,self._value=newValue,finale(self)}catch(e){reject(self,e)}}function reject(self,newValue){self._state=2,self._value=newValue,finale(self)}function finale(self){2===self._state&&0===self._deferreds.length&&Promise._immediateFn(function(){self._handled||Promise._unhandledRejectionFn(self._value)});for(var i=0,len=self._deferreds.length;len>i;i++)handle(self,self._deferreds[i]);self._deferreds=null}function Handler(onFulfilled,onRejected,promise){
this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.promise=promise}function doResolve(fn,self){var done=!1;try{fn(function(value){done||(done=!0,resolve(self,value))},function(reason){done||(done=!0,reject(self,reason))})}catch(ex){if(done)return;done=!0,reject(self,ex)}}var setTimeoutFunc=setTimeout;Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);return handle(this,new Handler(onFulfilled,onRejected,prom)),prom},Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){function res(i,val){try{if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},reject)}args[i]=val,0===--remaining&&resolve(args)}catch(ex){reject(ex)}}if(0===args.length)return resolve([]);for(var remaining=args.length,i=0;i<args.length;i++)res(i,args[i])})},Promise.resolve=function(value){return value&&"object"==typeof value&&value.constructor===Promise?value:new Promise(function(resolve){resolve(value)})},Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})},Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;len>i;i++)values[i].then(resolve,reject)})},Promise._immediateFn="function"==typeof setImmediate&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)},Promise._unhandledRejectionFn=function(err){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",err)},Promise._setImmediateFn=function(fn){Promise._immediateFn=fn},Promise._setUnhandledRejectionFn=function(fn){Promise._unhandledRejectionFn=fn},"undefined"!=typeof module&&module.exports?module.exports=Promise:root.Promise||(root.Promise=Promise)}(this)},{}],9:[function(require){(function(process,global){!function(global,undefined){"use strict";function setImmediate(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++}function clearImmediate(handle){delete tasksByHandle[handle]}function run(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{run(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;runIfPresent(handle)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?installNextTickImplementation():canUsePostMessage()?installPostMessageImplementation():global.MessageChannel?installMessageChannelImplementation():doc&&"onreadystatechange"in doc.createElement("script")?installReadyStateChangeImplementation():installSetTimeoutImplementation(),attachTo.setImmediate=setImmediate,attachTo.clearImmediate=clearImmediate}}("undefined"==typeof self?"undefined"==typeof global?this:global:self)}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:6}]},{},[1]);